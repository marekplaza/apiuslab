
<!doctype html>
<html lang="pl" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="marek . plaza @ apius . pl">
      
      
        <link rel="canonical" href="https://marekplaza.github.io/apiuslab/labs/lab1/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.6">
    
    
      
        <title>LAB 1 (MLAG) - apiusLAB</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4a0965b7.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#00bdd6">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wstep" class="md-skip">
          Przejdź do treści
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Nagłówek">
    <a href="../.." title="apiusLAB" class="md-header__button md-logo" aria-label="apiusLAB" data-md-component="logo">
      
  <img src="../../apiuslab.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            apiusLAB
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              LAB 1 (MLAG)
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Szukaj" placeholder="Szukaj" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Wyczyść" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicjowanie wyszukiwania
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/marekplaza/apiuslab" title="Idź do repozytorium" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    apiusLAB on github
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Nawigacja" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="apiusLAB" class="md-nav__button md-logo" aria-label="apiusLAB" data-md-component="logo">
      
  <img src="../../apiuslab.png" alt="logo">

    </a>
    apiusLAB
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/marekplaza/apiuslab" title="Idź do repozytorium" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    apiusLAB on github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Początek
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Baza wiedzy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Baza wiedzy" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Baza wiedzy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kb/hw/" class="md-nav__link">
        Portfolio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          LABy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="LABy" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          LABy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          LAB 1 (MLAG)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        LAB 1 (MLAG)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Spis treści">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Spis treści
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#wstep" class="md-nav__link">
    Wstęp
  </a>
  
    <nav class="md-nav" aria-label="Wstęp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minimalne-wymagania-sprzetowo-do-samodzielnego-uruchomienia-srodowiska" class="md-nav__link">
    Minimalne wymagania sprzętowo do samodzielnego uruchomienia środowiska:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemat-poaczen-topologia-fizyczna" class="md-nav__link">
    Schemat połączeń / topologia fizyczna
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start" class="md-nav__link">
    Start
  </a>
  
    <nav class="md-nav" aria-label="Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#menu-apiuslab" class="md-nav__link">
    Menu apiusLAB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen-nawigacja" class="md-nav__link">
    screen - nawigacja
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfiguracje-startowe" class="md-nav__link">
    Konfiguracje startowe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemat-topologii-logicznej-mlag-port-channel" class="md-nav__link">
    Schemat topologii logicznej MLAG / Port-channel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#krok-po-kroku" class="md-nav__link">
    Krok po Kroku
  </a>
  
    <nav class="md-nav" aria-label="Krok po Kroku">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-weryfikacja-stanu-poczatkowego" class="md-nav__link">
    1. Weryfikacja stanu początkowego
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-port-channel-peer-link-pomiedzy-leaf-3-i-leaf-4-dataplane" class="md-nav__link">
    2. Port-channel Peer Link pomiędzy Leaf-3 i Leaf-4 (dataplane)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-weryfikacja-dziaania-peer-link" class="md-nav__link">
    3. Weryfikacja działania Peer-Link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-konfiguracja-mlag-vlan-layer-2-and-layer-3" class="md-nav__link">
    4. Konfiguracja MLAG VLAN (Layer 2 and Layer 3).
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-zdefiniuj-domene-mlag" class="md-nav__link">
    5. Zdefiniuj domenę MLAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-skonfiguruj-interfejsy-port-channel-i-interfejsy-fizyczne-uplink-do-spine-1-i-2" class="md-nav__link">
    6. Skonfiguruj interfejsy Port-channel i interfejsy fizyczne uplink do SPINE-1 i 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-skonfiguruj-interfejs-port-channel-i-interfejsy-fizyczne-uplink-do-client-2" class="md-nav__link">
    7. Skonfiguruj interfejs Port-channel i interfejsy fizyczne uplink do CLIENT-2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-weryfikujemy-konfiguracje-leaf-4" class="md-nav__link">
    8. Weryfikujemy konfigurację LEAF-4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lab-ukonczony" class="md-nav__link">
    LAB UKOŃCZONY!
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lab2/" class="md-nav__link">
        LAB 2 (IP fabric)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lab2/" class="md-nav__link">
        LAB 3 (EVPN)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lab2/" class="md-nav__link">
        LAB 4 (EVPN-VxLAN L2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lab2/" class="md-nav__link">
        LAB 5 (EVPN-VxLAN L3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lab2/" class="md-nav__link">
        LAB 6 (Telemetry gNMI)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lab2/" class="md-nav__link">
        LAB 7 (CVP RestAPI)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lab2/" class="md-nav__link">
        LAB 8 (CI/CD)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Spis treści">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Spis treści
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#wstep" class="md-nav__link">
    Wstęp
  </a>
  
    <nav class="md-nav" aria-label="Wstęp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minimalne-wymagania-sprzetowo-do-samodzielnego-uruchomienia-srodowiska" class="md-nav__link">
    Minimalne wymagania sprzętowo do samodzielnego uruchomienia środowiska:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemat-poaczen-topologia-fizyczna" class="md-nav__link">
    Schemat połączeń / topologia fizyczna
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start" class="md-nav__link">
    Start
  </a>
  
    <nav class="md-nav" aria-label="Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#menu-apiuslab" class="md-nav__link">
    Menu apiusLAB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen-nawigacja" class="md-nav__link">
    screen - nawigacja
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfiguracje-startowe" class="md-nav__link">
    Konfiguracje startowe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemat-topologii-logicznej-mlag-port-channel" class="md-nav__link">
    Schemat topologii logicznej MLAG / Port-channel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#krok-po-kroku" class="md-nav__link">
    Krok po Kroku
  </a>
  
    <nav class="md-nav" aria-label="Krok po Kroku">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-weryfikacja-stanu-poczatkowego" class="md-nav__link">
    1. Weryfikacja stanu początkowego
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-port-channel-peer-link-pomiedzy-leaf-3-i-leaf-4-dataplane" class="md-nav__link">
    2. Port-channel Peer Link pomiędzy Leaf-3 i Leaf-4 (dataplane)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-weryfikacja-dziaania-peer-link" class="md-nav__link">
    3. Weryfikacja działania Peer-Link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-konfiguracja-mlag-vlan-layer-2-and-layer-3" class="md-nav__link">
    4. Konfiguracja MLAG VLAN (Layer 2 and Layer 3).
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-zdefiniuj-domene-mlag" class="md-nav__link">
    5. Zdefiniuj domenę MLAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-skonfiguruj-interfejsy-port-channel-i-interfejsy-fizyczne-uplink-do-spine-1-i-2" class="md-nav__link">
    6. Skonfiguruj interfejsy Port-channel i interfejsy fizyczne uplink do SPINE-1 i 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-skonfiguruj-interfejs-port-channel-i-interfejsy-fizyczne-uplink-do-client-2" class="md-nav__link">
    7. Skonfiguruj interfejs Port-channel i interfejsy fizyczne uplink do CLIENT-2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-weryfikujemy-konfiguracje-leaf-4" class="md-nav__link">
    8. Weryfikujemy konfigurację LEAF-4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lab-ukonczony" class="md-nav__link">
    LAB UKOŃCZONY!
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/marekplaza/apiuslab/edit/master/docs/labs/lab1.md" title="Edytuj tę stronę" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h2 id="wstep">Wstęp</h2>
<p>Celem ćwiczenia jest skonfigurowanie interfejsów zaagregowanych Po oraz sekcji mlag na przełączniku LEAF-4 tworzącego z przełącznikiem LEAF-3 parę pracującą w technologii MLAG <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>. </p>
<h3 id="minimalne-wymagania-sprzetowo-do-samodzielnego-uruchomienia-srodowiska">Minimalne wymagania sprzętowo do samodzielnego uruchomienia środowiska:</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Elementy LAB1</strong></td>
<td>6 cEOS &amp; 0 Linux  nodes</td>
</tr>
<tr>
<td><strong>Wymagane zasoby sprzętowe</strong></td>
<td><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M160 352h192V160H160v192zm288-176h48c8.8 0 16-7.2 16-16s-7.162-16-16-16h-48v-16c0-35.35-28.65-64-64-64h-16V16c0-8.836-7.2-16-16-16-8.836 0-16 7.164-16 16v48h-64V16c0-8.836-7.2-16-16-16s-16 7.164-16 16v48h-64V16c0-8.836-7.2-16-16-16s-16 7.164-16 16v48h-16c-35.35 0-64 28.65-64 64v16H16c-8.836 0-16 7.2-16 16s7.164 16 16 16h48v64H16c-8.836 0-16 7.2-16 16s7.164 16 16 16h48v64H16c-8.836 0-16 7.2-16 16s7.164 16 16 16h48v16c0 35.35 28.65 64 64 64h16v48c0 8.8 7.2 16 16 16 8.838 0 16-7.164 16-16v-48h64v48c0 8.836 7.164 16 16 16 8.838 0 16-7.164 16-16v-48h64v48c0 8.836 7.164 16 16 16 8.838 0 16-7.164 16-16v-48h16c35.35 0 64-28.65 64-64v-16h48c8.838 0 16-7.164 16-16s-7.162-16-16-16h-48v-64h48c8.8 0 16-7.2 16-16s-7.162-16-16-16h-48v-64zm-64 192c0 8.836-7.162 16-16 16H144c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h224c8.8 0 16 7.2 16 16v224z"/></svg></span> 4vCPU <br/><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 448h80v-32c0-8.838 7.164-16 16-16 8.838 0 16 7.162 16 16v32h96v-32c0-8.838 7.164-16 16-16 8.838 0 16 7.162 16 16v32h96v-32c0-8.838 7.164-16 16-16 8.838 0 16 7.162 16 16v32h96v-32c0-8.838 7.164-16 16-16 8.838 0 16 7.162 16 16v32h80v-96H0v96zm576-301.1V112c0-26.51-21.5-48-48-48H48C21.49 64 0 85.49 0 112v34.94C18.6 153.5 32 171.1 32 192s-13.4 38.5-32 45.1V320h576v-82.9c-18.6-6.6-32-24.2-32-45.1s13.4-38.5 32-45.1zM192 240c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v96zm128 0c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v96zm128 0c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v96z"/></svg></span> 16 GB</td>
</tr>
<tr>
<td><strong>Topologia </strong></td>
<td><a href="https://github.com/marekplaza/apiuslab/blob/main/LAB1_MLAG/LAB1_MLAG.yaml">LAB1_MLAG.yaml</a></td>
</tr>
<tr>
<td><strong>Dokumentacja Producenta</strong></td>
<td><a href="https://www.arista.com/en/products/multi-chassis-link-aggregation-mlag">· MLAG guide </a><br/><a href="https://www.arista.com/en/products/software-controlled-container-networking">· cEOS guide</a></td>
</tr>
<tr>
<td><strong>Informacja o wersjach</strong> <sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></td>
<td><a href="https://hub.docker.com/repository/docker/marekplaza/apiuslab"><code>apiusLAB</code></a>, <a href="https://hub.docker.com/repository/docker/marekplaza/ceos64-lab"><code>ceos64-lab:4.27.1.1F</code></a></td>
</tr>
</tbody>
</table>
<h3 id="schemat-poaczen-topologia-fizyczna">Schemat połączeń / topologia fizyczna</h3>
<p>Topologię fizyczną, organziację połączeń w naszej sieci przedstawia rysunek:</p>
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->
<!DOCTYPE html>
<p><html>
<head>
<title>containerlab-MLAG-physical</title>
<meta charset="utf-8"/>
</head></p>
<body><div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2022-06-19T15:56:03.448Z\&quot; agent=\&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.61 Safari/537.36\&quot; etag=\&quot;gvhtLJkVHSFTgBLjYURk\&quot; version=\&quot;19.0.3\&quot; type=\&quot;onedrive\&quot;&gt;&lt;diagram id=\&quot;upIR5Q19Q0_o-y8zAVBo\&quot; name=\&quot;MLAG-physical\&quot;&gt;7V1bc5s4FP41ftwMuiDEY5q4u5nJdjqTzmzbN8YoNlMMLpFje3/9Qi3ZICljwmJLiZqXWAcQ5nzfuUq2J+hmuf2zSlaLv8uU5RMYpNsJup1ACGgI6n+NZCckICZ7ybzKUiE7Ch6yf5kQBkK6zlL21DmRl2XOs1VXOCuLgs14R5ZUVbnpnvZY5t27rpI50wQPsyTXpf9kKV/spRRGR/lfLJsv5J0BifdHlok8WTzJ0yJJy01LhKYTdFOVJd+/Wm5vWN5oT+plf93HF44e3ljFCt7ngvl0veQ/v1/vfoZBevec3i/DL3+IWZ6TfC0e+OHz3aeplD/xnVREVa6LlDVzBRP0YbPIOHtYJbPm6KbGvpYt+DKvR6B++VgWXGAJkRyLueQtWcXZ9sVnAQcN1dxi5ZLxalefIi6ARChV0EoON0eIYCBkizY8WAgTQYv5Yeqj5uoXQnmvUCTSFHk/vf7orB6F3kIQ21YcNisOOqo4cQHGXQI6oMjwBVN2XJMxdc2UiZmRyG090sA5RkZmReLzKRKNoEgAMXBNk1TTpKZDVqTXTb5Tj4qyYF2ddRXMthn/Ko40r7818qtQjG63rdNud3JQ1M/xtT1oXdUMj5f9Gsnr6qxn1bzDPCt+NENelT8OmRQ0wLl/MJZqaZmCX/3w5bqasdPJDU+qOeOnPKfOhxbcoQFtKatYnvDsuft2TQwQd/hcZvWDHOhGUNduEVFItH9McVU7v1MmiqPuRAAqE+31oE30i5CHxx7O0fg3RwdwFPXkKLbJUaxyNI4HcjQ8MdGZOSqryt8kfRVJSU+SRjZJCgKoZECUXoXDeAoAPTnXuamql+ZjUPVIz29tdp6g6hUM22wFp7jqogd9Ieu7DDlh3OUTpgOjPA5PTHRuWsJxaWn0hq/n15HeUX9+O0BKq6knVBwmDgaSEimp56F7eylS6t03i77SXVeJ34KrBHFwFbT+IOqSVOXWmyGp3un8PyQdyQcOjvEO0NSu81Q6wIN5CYDihqHaATg3MfXOsUXvGbnrPqO3wMtQTRDfrL/U+/Dj0xL0pWWHlYFLrAx7spJYDeowGstdBrFlXurLGueK49CJWsYqcUgwEm8OF0raqMXOuWkz7hrOSLQ5eDgwcSP36xtjrZYolIxFSjX1u7Avk7dvkfLm/m766YuzG1deaF1QuUJhb40WXqJh2ztfge4mLH17Y61dcu61IUI4cAkM2Tb5S/TKetM0cpemfbsQTtOUkJFoSrFyn8uSVu+diTilk9epOKUtSroQqEbu95wv6AxxLv09wGnLljvVnK6QYqVCIuHAZBQE2HJocqrjYy80jUdMuxsytF364cBgpDHTcjTSO0CM6wVTHTV4l597ktyUeVkd+fuY5bkiSvJsXtTDWc0MVss/NDEomyX5tTiwzNK0uY0xvHWtwEzDUYuvw1JIi1fEwCt0roiG9NKLcd13vFtAEHINEGgARN9A/24B0ZqN1gHRqz7G9Y347xaQ0DlA9FzHqxhC1dVF64CYgrpHMUT9HJZ9QPQFE69iCAiIa4joH/HwKogA4Boi8v6+RhF1D1ZkGw/PCxHgHCCmvNcnA1FXqq0DonfyvbKQ0DlA9NUAryyEItcAMVWGHllI7Bwgnrd7AZTf4uQMIqbS0CMTAcg5REylYegPIrHSX6TELh5yCa+DB/EXD2C7Ug+h3waClfYipZbxMBWGHhmIigfA0DIgpsLQIwOB6vd3ybTTGiCmwtAjC1EBIQGwDIipMPTIQhDFjlmIqTD0yEJUQOxbiKku9MhCQKAFEWQZEVNd6JGJ6IjElp0WMVWGPtmI9tVetsMIMS0a+mQjKiLW4wgxFes+dXwVQCL5kXtrgJiqdegPIDigjgFiqtY9spA4Io4BYqrWPbIQAAPsGCKmct2j/YvK9xAR20tUxFSt+4QHoo4BYqrWPdpOSjFxDBDf9/cihC+FSD08/vTT/oOJx1/QQtP/AA==&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>
</body>
<p></html></p>
<h1 id="start">Start</h1>
<h3 id="menu-apiuslab">Menu apiusLAB</h3>
<p>Po skonfigurowaniu i uruchomieniu środowiska apiusLAB (VM + docker + github repo: LAB1_MLAG + kontenery: cEOS oraz apius lab), uruchamiamy nasze laboratorium wybierając z MENU konsoli ApiusLAB ćwiczenie: 01 MLAG, a następnie w podmenu ponownie: 01 - uruchom LABa'a. </p>
<div class="highlight"><span class="filename">Menu Głowne -> Wybierz LAB'a -> LAB1_MLAG</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">==========</span> Menu Głowne: Opcje <span class="nv">wyboru</span> <span class="o">==========</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  Wybierz LAB<span class="err">&#39;</span>a:
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="hll">     <span class="m">01</span>. MLAG
</span><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>     <span class="m">02</span>. Leaf <span class="p">&amp;</span> Spine
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>     <span class="m">03</span>. VxLAN
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>     <span class="m">04</span>. EVPN VxLAN L2
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>     <span class="m">05</span>. EVPN VxLAN L3
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>     <span class="m">06</span>. Telemetria gRPC
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>     <span class="m">88</span>. Reset
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>     <span class="m">99</span>. Wyjście
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a> Co chciałbyś zrobić? 
</code></pre></div>
<p>W rezultacie po kilku minutach zostanie uruchomione środowisko: powołane zostaną kontenery cEOS oraz utworzone połączenia sieciowe przy pomocy narzędzia <a href="https://containerlab.dev/">containerlab</a> zgodnie z zadaną topologią opisaną deklaratywnie w pliku YAML: <a href="https://github.com/marekplaza/apiuslab/blob/main/LAB1_MLAG/LAB1_MLAG.yaml">LAB1_MLAG.yaml</a>:</p>
<div class="highlight"><span class="filename">Stauts LAB'a</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>   <span class="err">&#39;</span> 
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>+---+--------------------------+-----------+----------+--------------+---------------------------------+------+---------+-------------------+--------------+
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="p">|</span> <span class="c1"># |        Topo Path         | Lab Name  |   Name   | Container ID |              Image              | Kind |  State  |   IPv4 Address    | IPv6 Address |</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>+---+--------------------------+-----------+----------+--------------+---------------------------------+------+---------+-------------------+--------------+
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p">|</span> <span class="m">1</span> <span class="p">|</span> LAB1_MLAG/LAB1_MLAG.yaml <span class="p">|</span> LAB1_MLAG <span class="p">|</span> CLIENT-1 <span class="p">|</span> 1832039eabec <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.1/24  <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p">|</span> <span class="m">2</span> <span class="p">|</span>                          <span class="p">|</span>           <span class="p">|</span> CLIENT-2 <span class="p">|</span> 034fa3b9b8b0 <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.2/24  <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">|</span> <span class="m">3</span> <span class="p">|</span>                          <span class="p">|</span>           <span class="p">|</span> LEAF-1   <span class="p">|</span> f8e12dbcd101 <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.12/24 <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="p">|</span> <span class="m">4</span> <span class="p">|</span>                          <span class="p">|</span>           <span class="p">|</span> LEAF-2   <span class="p">|</span> f125f9195ef5 <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.13/24 <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">|</span> <span class="m">5</span> <span class="p">|</span>                          <span class="p">|</span>           <span class="p">|</span> LEAF-3   <span class="p">|</span> bd17d7473194 <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.14/24 <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="p">|</span> <span class="m">6</span> <span class="p">|</span>                          <span class="p">|</span>           <span class="p">|</span> LEAF-4   <span class="p">|</span> 7de176deb149 <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.15/24 <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">|</span> <span class="m">7</span> <span class="p">|</span>                          <span class="p">|</span>           <span class="p">|</span> SPINE-1  <span class="p">|</span> 7cc0f23c2897 <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.10/24 <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="p">|</span> <span class="m">8</span> <span class="p">|</span>                          <span class="p">|</span>           <span class="p">|</span> SPINE-2  <span class="p">|</span> 63077f4f0964 <span class="p">|</span> marekplaza/ceos64-lab:4.27.1.1F <span class="p">|</span> ceos <span class="p">|</span> running <span class="p">|</span> <span class="m">172</span>.100.100.11/24 <span class="p">|</span> N/A          <span class="p">|</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>+---+--------------------------+-----------+----------+--------------+---------------------------------+------+---------+-------------------+--------------+
</code></pre></div>
<p>W naszym przypadku wygodniejszym sposobem będzie skorzytanie z ApiusLAB i wybór opcji:  04 "Screen do wszystkich routerów:</p>
<div class="highlight"><span class="filename">Menu Głowne -> Wybierz LAB'a -> LAB1_MLAG</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a> <span class="o">==========</span> Menu Głowne -&gt; Wybierz LAB<span class="err">&#39;</span>a -&gt; <span class="nv">LAB1_MLAG</span> <span class="o">==========</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>     <span class="m">02</span>. Restartuj LAB
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>     <span class="m">03</span>. Wyłącz LAB
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="hll">     <span class="m">04</span>. Screen <span class="k">do</span> wszystkich routerów
</span><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>     <span class="m">05</span>. Shell/Bash
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>     <span class="m">99</span>. Powrót
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a> Co chciałbyś zrobić? 
</code></pre></div>
<p>W oddzielnych zakładkach uzyskujemy dostęp do CLI uruchomionych "urządzeń". </p>
<h3 id="screen-nawigacja">screen - nawigacja</h3>
<p>Wazniejsze skróty klawiszowe do pracy z screen:</p>
<ul>
<li><code>ctrl+a n</code> - Przejście do następnej zakładki.</li>
<li><code>ctrl+a p</code> - Przejście do poprzedniej zakładki</li>
<li><code>ctrl+a d</code> - Zamknięcie wszystkich zakładek, przejście do poprzedniego MENU</li>
</ul>
<details class="info" open="open">
<summary>Info</summary>
<p>Do każdego z kontenerów, z poziomu hosta możemy zalogować się przy pomocy prokołu ssh używając nazw DNS (Name) oraz poświadczeń login/password: <b>admin/admin</b>. 
<div class="highlight"><span class="filename">Przykład dla LEAF-1</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">[</span>🐳 +🧪 <span class="o">]</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>marpla@chaos:~/clab$ ssh admin@LEAF-1
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1"># fragmenty ouputu związane z nawiązaniem pierwszy raz sesji zostały wycięte dla poprawy czytelności</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Password:
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>LEAF-1&gt;
</code></pre></div></p>
</details>
<h3 id="konfiguracje-startowe">Konfiguracje startowe</h3>
<p>Ponizej znajdują się konfiugracje startowe, z którymi zostaną uruchomione kontenery cEOS. Konfiguracje do wglądu dostępne są równiez w postaci repozytorium na <a href="https://github.com/marekplaza/apiuslab">GitHub</a>. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:8"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><input id="__tabbed_1_7" name="__tabbed_1" type="radio" /><input id="__tabbed_1_8" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">CLIENT-1</label><label for="__tabbed_1_2">CLIENT-2</label><label for="__tabbed_1_3">LEAF-1</label><label for="__tabbed_1_4">LEAF-2</label><label for="__tabbed_1_5">LEAF-3</label><label for="__tabbed_1_6">LEAF-4-BASE</label><label for="__tabbed_1_7">SPINE-1</label><label for="__tabbed_1_8">SPINE-2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>!
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>no aaa root
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>!
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>!
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>service routing protocols model multi-agent
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>!
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>interface Management0
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    vrf mgmt
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    no lldp transmit
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    no lldp receive
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>!
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>interface Port-Channel1
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>no switchport
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>ip address 172.16.112.201/24
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>!
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>interface Port-Channel2
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>no switchport
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>ip address 172.16.115.100/24
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>!
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>interface Ethernet1
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>channel-group 1 mode active
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>lacp timer fast
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>!
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>interface Ethernet2
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>channel-group 1 mode active
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>lacp timer fast
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>!
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>interface Ethernet3
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>channel-group 2 mode active
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>lacp timer fast
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>!
<a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>interface Ethernet4
<a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>channel-group 2 mode active
<a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>lacp timer fast
<a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>!
<a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a>ip route 172.16.116.0/24 172.16.115.1
<a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a>ip route 172.16.134.0/24 172.16.112.1
<a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>!
<a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a>vrf instance mgmt
<a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a>!
<a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a>ip routing
<a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a>!
<a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a>ip routing vrf mgmt
<a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a>!
<a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a>management api gnmi
<a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a>    transport grpc default
<a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a>    vrf mgmt
<a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a>!
<a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a>management api netconf
<a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a>transport ssh default
<a id="__codelineno-4-56" name="__codelineno-4-56" href="#__codelineno-4-56"></a>    vrf mgmt
<a id="__codelineno-4-57" name="__codelineno-4-57" href="#__codelineno-4-57"></a>!
<a id="__codelineno-4-58" name="__codelineno-4-58" href="#__codelineno-4-58"></a>management api http-commands
<a id="__codelineno-4-59" name="__codelineno-4-59" href="#__codelineno-4-59"></a>protocol http
<a id="__codelineno-4-60" name="__codelineno-4-60" href="#__codelineno-4-60"></a>protocol unix-socket
<a id="__codelineno-4-61" name="__codelineno-4-61" href="#__codelineno-4-61"></a>no shutdown
<a id="__codelineno-4-62" name="__codelineno-4-62" href="#__codelineno-4-62"></a>!
<a id="__codelineno-4-63" name="__codelineno-4-63" href="#__codelineno-4-63"></a>vrf mgmt
<a id="__codelineno-4-64" name="__codelineno-4-64" href="#__codelineno-4-64"></a>    no shutdown
<a id="__codelineno-4-65" name="__codelineno-4-65" href="#__codelineno-4-65"></a>!
<a id="__codelineno-4-66" name="__codelineno-4-66" href="#__codelineno-4-66"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-4-67" name="__codelineno-4-67" href="#__codelineno-4-67"></a>!
<a id="__codelineno-4-68" name="__codelineno-4-68" href="#__codelineno-4-68"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-4-69" name="__codelineno-4-69" href="#__codelineno-4-69"></a>!
<a id="__codelineno-4-70" name="__codelineno-4-70" href="#__codelineno-4-70"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-4-71" name="__codelineno-4-71" href="#__codelineno-4-71"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>!
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>no aaa root
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>!
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>!
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>service routing protocols model multi-agent
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>!
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>interface Management0
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    vrf mgmt
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    no lldp transmit
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    no lldp receive
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>!
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>interface Port-Channel1
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>no switchport
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>ip address 172.16.112.202/24
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>!
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>interface Port-Channel2
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>no switchport
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>ip address 172.16.116.100/24
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>!
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>interface Ethernet1
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>channel-group 1 mode active
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>!
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>interface Ethernet2
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>channel-group 1 mode active
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>!
<a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>interface Ethernet3
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>channel-group 2 mode active
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>!
<a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>interface Ethernet4
<a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>channel-group 2 mode active
<a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>!
<a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>!
<a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>ip route 172.16.115.0/24 172.16.116.1
<a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>ip route 172.16.112.0/24 172.16.134.1
<a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>!
<a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a>vrf instance mgmt
<a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>!
<a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>ip routing
<a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>!
<a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>ip routing vrf mgmt
<a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a>!
<a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a>management api gnmi
<a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a>    transport grpc default
<a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a>    vrf mgmt
<a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a>!
<a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a>management api netconf
<a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a>transport ssh default
<a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a>    vrf mgmt
<a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a>!
<a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a>management api http-commands
<a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a>protocol http
<a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a>protocol unix-socket
<a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a>no shutdown
<a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a>!
<a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a>vrf mgmt
<a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a>    no shutdown
<a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a>!
<a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-5-64" name="__codelineno-5-64" href="#__codelineno-5-64"></a>!
<a id="__codelineno-5-65" name="__codelineno-5-65" href="#__codelineno-5-65"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-5-66" name="__codelineno-5-66" href="#__codelineno-5-66"></a>!
<a id="__codelineno-5-67" name="__codelineno-5-67" href="#__codelineno-5-67"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-5-68" name="__codelineno-5-68" href="#__codelineno-5-68"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>!
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>no aaa root
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>!
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>!
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>service routing protocols model multi-agent
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>!
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>interface Management0
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    vrf mgmt
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>    no lldp transmit
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>    no lldp receive
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>!
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>no spanning-tree vlan-id 4094
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>!
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>vlan 12
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>    name CLIENT
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>!
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>vlan 4094
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>trunk group MLAGPEER
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>!
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>interface Port-Channel33
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>description MLAG - HOST1
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>switchport mode access
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>switchport access vlan 12
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>mlag 33
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>!
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>interface Port-Channel56
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>description MLAG PEER LINK - LEAF2
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>switchport mode trunk
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>switchport trunk group MLAGPEER
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>!
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>interface Port-Channel12
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>description MLAG - SPINE1 &amp; 2
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>switchport mode trunk
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>mlag 12
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>!
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>interface Ethernet1
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>description SPINE1
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>switchport mode trunk
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>channel-group 12 mode active
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>!
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>interface Ethernet2
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>description SPINE2
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>switchport mode trunk
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>channel-group 12 mode active
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a>!
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a>interface Ethernet3
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>description HOST1
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>channel-group 33 mode active
<a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a>!
<a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a>interface Ethernet4
<a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a>shutdown
<a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>!  
<a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a>interface Ethernet5
<a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a>description MLAG PEER LINK - LEAF2
<a id="__codelineno-6-60" name="__codelineno-6-60" href="#__codelineno-6-60"></a>switchport mode trunk
<a id="__codelineno-6-61" name="__codelineno-6-61" href="#__codelineno-6-61"></a>channel-group 56 mode active
<a id="__codelineno-6-62" name="__codelineno-6-62" href="#__codelineno-6-62"></a>!
<a id="__codelineno-6-63" name="__codelineno-6-63" href="#__codelineno-6-63"></a>interface Ethernet6
<a id="__codelineno-6-64" name="__codelineno-6-64" href="#__codelineno-6-64"></a>description MLAG PEER LINK - LEAF2
<a id="__codelineno-6-65" name="__codelineno-6-65" href="#__codelineno-6-65"></a>switchport mode trunk
<a id="__codelineno-6-66" name="__codelineno-6-66" href="#__codelineno-6-66"></a>channel-group 56 mode active
<a id="__codelineno-6-67" name="__codelineno-6-67" href="#__codelineno-6-67"></a>!
<a id="__codelineno-6-68" name="__codelineno-6-68" href="#__codelineno-6-68"></a>interface Vlan4094
<a id="__codelineno-6-69" name="__codelineno-6-69" href="#__codelineno-6-69"></a>description MLAG PEER LINK
<a id="__codelineno-6-70" name="__codelineno-6-70" href="#__codelineno-6-70"></a>ip address 172.16.12.1/30
<a id="__codelineno-6-71" name="__codelineno-6-71" href="#__codelineno-6-71"></a>!
<a id="__codelineno-6-72" name="__codelineno-6-72" href="#__codelineno-6-72"></a>mlag configuration
<a id="__codelineno-6-73" name="__codelineno-6-73" href="#__codelineno-6-73"></a>domain-id MLAG12
<a id="__codelineno-6-74" name="__codelineno-6-74" href="#__codelineno-6-74"></a>local-interface Vlan4094
<a id="__codelineno-6-75" name="__codelineno-6-75" href="#__codelineno-6-75"></a>peer-address 172.16.12.2
<a id="__codelineno-6-76" name="__codelineno-6-76" href="#__codelineno-6-76"></a>peer-link Port-Channel56
<a id="__codelineno-6-77" name="__codelineno-6-77" href="#__codelineno-6-77"></a>!
<a id="__codelineno-6-78" name="__codelineno-6-78" href="#__codelineno-6-78"></a>vrf instance mgmt
<a id="__codelineno-6-79" name="__codelineno-6-79" href="#__codelineno-6-79"></a>!
<a id="__codelineno-6-80" name="__codelineno-6-80" href="#__codelineno-6-80"></a>ip routing
<a id="__codelineno-6-81" name="__codelineno-6-81" href="#__codelineno-6-81"></a>!
<a id="__codelineno-6-82" name="__codelineno-6-82" href="#__codelineno-6-82"></a>ip routing vrf mgmt
<a id="__codelineno-6-83" name="__codelineno-6-83" href="#__codelineno-6-83"></a>!
<a id="__codelineno-6-84" name="__codelineno-6-84" href="#__codelineno-6-84"></a>management api gnmi
<a id="__codelineno-6-85" name="__codelineno-6-85" href="#__codelineno-6-85"></a>    transport grpc default
<a id="__codelineno-6-86" name="__codelineno-6-86" href="#__codelineno-6-86"></a>    vrf mgmt
<a id="__codelineno-6-87" name="__codelineno-6-87" href="#__codelineno-6-87"></a>!
<a id="__codelineno-6-88" name="__codelineno-6-88" href="#__codelineno-6-88"></a>management api netconf
<a id="__codelineno-6-89" name="__codelineno-6-89" href="#__codelineno-6-89"></a>transport ssh default
<a id="__codelineno-6-90" name="__codelineno-6-90" href="#__codelineno-6-90"></a>    vrf mgmt
<a id="__codelineno-6-91" name="__codelineno-6-91" href="#__codelineno-6-91"></a>!
<a id="__codelineno-6-92" name="__codelineno-6-92" href="#__codelineno-6-92"></a>management api http-commands
<a id="__codelineno-6-93" name="__codelineno-6-93" href="#__codelineno-6-93"></a>protocol http
<a id="__codelineno-6-94" name="__codelineno-6-94" href="#__codelineno-6-94"></a>protocol unix-socket
<a id="__codelineno-6-95" name="__codelineno-6-95" href="#__codelineno-6-95"></a>no shutdown
<a id="__codelineno-6-96" name="__codelineno-6-96" href="#__codelineno-6-96"></a>!
<a id="__codelineno-6-97" name="__codelineno-6-97" href="#__codelineno-6-97"></a>vrf mgmt
<a id="__codelineno-6-98" name="__codelineno-6-98" href="#__codelineno-6-98"></a>    no shutdown
<a id="__codelineno-6-99" name="__codelineno-6-99" href="#__codelineno-6-99"></a>!
<a id="__codelineno-6-100" name="__codelineno-6-100" href="#__codelineno-6-100"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-6-101" name="__codelineno-6-101" href="#__codelineno-6-101"></a>!
<a id="__codelineno-6-102" name="__codelineno-6-102" href="#__codelineno-6-102"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-6-103" name="__codelineno-6-103" href="#__codelineno-6-103"></a>
<a id="__codelineno-6-104" name="__codelineno-6-104" href="#__codelineno-6-104"></a>!
<a id="__codelineno-6-105" name="__codelineno-6-105" href="#__codelineno-6-105"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-6-106" name="__codelineno-6-106" href="#__codelineno-6-106"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>!
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>no aaa root
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>!
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>!
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>service routing protocols model multi-agent
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>!
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>interface Management0
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    vrf mgmt
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>    no lldp transmit
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>    no lldp receive
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>!
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>no spanning-tree vlan-id 4094
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>!
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>vlan 12
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>    name CLIENT
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>!
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>vlan 4094
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>trunk group MLAGPEER
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>!
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>interface Port-Channel33
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>description MLAG - HOST1
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>switchport mode access
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>switchport access vlan 12
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>mlag 33
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>!
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>interface Port-Channel56
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>description MLAG PEER LINK - LEAF1
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a>switchport mode trunk
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a>switchport trunk group MLAGPEER
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>!
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>interface Port-Channel12
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a>description MLAG - SPINE1 &amp; 2
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>switchport mode trunk
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a>mlag 12
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a>!
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a>interface Ethernet1
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>description SPINE1
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a>switchport mode trunk
<a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>channel-group 12 mode active
<a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a>!
<a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a>interface Ethernet2
<a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a>description SPINE2
<a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a>switchport mode trunk
<a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>channel-group 12 mode active
<a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a>!
<a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a>interface Ethernet3
<a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a>description HOST1
<a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a>channel-group 33 mode active
<a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a>!
<a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a>interface Ethernet4
<a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a>shutdown
<a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a>!  
<a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a>interface Ethernet5
<a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a>description MLAG PEER LINK - LEAF1
<a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a>switchport mode trunk
<a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a>channel-group 56 mode active
<a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a>!
<a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a>interface Ethernet6
<a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a>description MLAG PEER LINK - LEAF1
<a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a>switchport mode trunk
<a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a>channel-group 56 mode active
<a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a>!
<a id="__codelineno-7-68" name="__codelineno-7-68" href="#__codelineno-7-68"></a>interface Vlan4094
<a id="__codelineno-7-69" name="__codelineno-7-69" href="#__codelineno-7-69"></a>description MLAG PEER LINK
<a id="__codelineno-7-70" name="__codelineno-7-70" href="#__codelineno-7-70"></a>ip address 172.16.12.2/30
<a id="__codelineno-7-71" name="__codelineno-7-71" href="#__codelineno-7-71"></a>!
<a id="__codelineno-7-72" name="__codelineno-7-72" href="#__codelineno-7-72"></a>mlag configuration
<a id="__codelineno-7-73" name="__codelineno-7-73" href="#__codelineno-7-73"></a>domain-id MLAG12
<a id="__codelineno-7-74" name="__codelineno-7-74" href="#__codelineno-7-74"></a>local-interface Vlan4094
<a id="__codelineno-7-75" name="__codelineno-7-75" href="#__codelineno-7-75"></a>peer-address 172.16.12.1
<a id="__codelineno-7-76" name="__codelineno-7-76" href="#__codelineno-7-76"></a>peer-link Port-Channel56
<a id="__codelineno-7-77" name="__codelineno-7-77" href="#__codelineno-7-77"></a>!
<a id="__codelineno-7-78" name="__codelineno-7-78" href="#__codelineno-7-78"></a>vrf instance mgmt
<a id="__codelineno-7-79" name="__codelineno-7-79" href="#__codelineno-7-79"></a>!
<a id="__codelineno-7-80" name="__codelineno-7-80" href="#__codelineno-7-80"></a>ip routing
<a id="__codelineno-7-81" name="__codelineno-7-81" href="#__codelineno-7-81"></a>!
<a id="__codelineno-7-82" name="__codelineno-7-82" href="#__codelineno-7-82"></a>ip routing vrf mgmt
<a id="__codelineno-7-83" name="__codelineno-7-83" href="#__codelineno-7-83"></a>!
<a id="__codelineno-7-84" name="__codelineno-7-84" href="#__codelineno-7-84"></a>management api gnmi
<a id="__codelineno-7-85" name="__codelineno-7-85" href="#__codelineno-7-85"></a>    transport grpc default
<a id="__codelineno-7-86" name="__codelineno-7-86" href="#__codelineno-7-86"></a>    vrf mgmt
<a id="__codelineno-7-87" name="__codelineno-7-87" href="#__codelineno-7-87"></a>!
<a id="__codelineno-7-88" name="__codelineno-7-88" href="#__codelineno-7-88"></a>management api netconf
<a id="__codelineno-7-89" name="__codelineno-7-89" href="#__codelineno-7-89"></a>transport ssh default
<a id="__codelineno-7-90" name="__codelineno-7-90" href="#__codelineno-7-90"></a>    vrf mgmt
<a id="__codelineno-7-91" name="__codelineno-7-91" href="#__codelineno-7-91"></a>!
<a id="__codelineno-7-92" name="__codelineno-7-92" href="#__codelineno-7-92"></a>management api http-commands
<a id="__codelineno-7-93" name="__codelineno-7-93" href="#__codelineno-7-93"></a>protocol http
<a id="__codelineno-7-94" name="__codelineno-7-94" href="#__codelineno-7-94"></a>protocol unix-socket
<a id="__codelineno-7-95" name="__codelineno-7-95" href="#__codelineno-7-95"></a>no shutdown
<a id="__codelineno-7-96" name="__codelineno-7-96" href="#__codelineno-7-96"></a>!
<a id="__codelineno-7-97" name="__codelineno-7-97" href="#__codelineno-7-97"></a>vrf mgmt
<a id="__codelineno-7-98" name="__codelineno-7-98" href="#__codelineno-7-98"></a>    no shutdown
<a id="__codelineno-7-99" name="__codelineno-7-99" href="#__codelineno-7-99"></a>!
<a id="__codelineno-7-100" name="__codelineno-7-100" href="#__codelineno-7-100"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-7-101" name="__codelineno-7-101" href="#__codelineno-7-101"></a>!
<a id="__codelineno-7-102" name="__codelineno-7-102" href="#__codelineno-7-102"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-7-103" name="__codelineno-7-103" href="#__codelineno-7-103"></a>
<a id="__codelineno-7-104" name="__codelineno-7-104" href="#__codelineno-7-104"></a>!
<a id="__codelineno-7-105" name="__codelineno-7-105" href="#__codelineno-7-105"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-7-106" name="__codelineno-7-106" href="#__codelineno-7-106"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>!
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>no aaa root
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>!
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>!
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>service routing protocols model multi-agent
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>!
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>interface Management0
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>    vrf mgmt
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>    no lldp transmit
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>    no lldp receive
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>!
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>no spanning-tree vlan-id 4094
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>!
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>vlan 12
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>    name CLIENT
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>!
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>vlan 4094
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>trunk group MLAGPEER
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>!
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>interface Port-Channel44
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>description MLAG - HOST2
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>switchport mode access
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a>switchport access vlan 12
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a>mlag 44
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a>!
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a>interface Port-Channel10
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>description MLAG PEER LINK - LEAF4
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a>switchport mode trunk
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>switchport trunk group MLAGPEER
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a>!
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a>interface Port-Channel34
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a>description MLAG - SPINE1 &amp; 2
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a>switchport mode trunk
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a>mlag 34
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>!
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>interface Ethernet1
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a>description SPINE1
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a>switchport mode trunk
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>channel-group 34 mode active
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a>!
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a>interface Ethernet2
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a>description SPINE2
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a>switchport mode trunk
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a>channel-group 34 mode active
<a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a>!
<a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a>interface Ethernet3
<a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a>shutdown
<a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a>!
<a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a>interface Ethernet4
<a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a>description HOST2
<a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a>channel-group 44 mode active
<a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a>!  
<a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a>interface Ethernet5
<a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a>description MLAG PEER LINK - LEAF4
<a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a>switchport mode trunk
<a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a>channel-group 10 mode active
<a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a>!
<a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a>interface Ethernet6
<a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a>description MLAG PEER LINK - LEAF4
<a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a>switchport mode trunk
<a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a>channel-group 10 mode active
<a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a>!
<a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a>interface Vlan4094
<a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a>description MLAG PEER LINK
<a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a>ip address 172.16.34.1/30
<a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a>!
<a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a>mlag configuration
<a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a>domain-id MLAG34
<a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a>local-interface Vlan4094
<a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a>peer-address 172.16.34.2
<a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a>peer-link Port-Channel56
<a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a>!
<a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a>vrf instance mgmt
<a id="__codelineno-8-80" name="__codelineno-8-80" href="#__codelineno-8-80"></a>!
<a id="__codelineno-8-81" name="__codelineno-8-81" href="#__codelineno-8-81"></a>ip routing
<a id="__codelineno-8-82" name="__codelineno-8-82" href="#__codelineno-8-82"></a>!
<a id="__codelineno-8-83" name="__codelineno-8-83" href="#__codelineno-8-83"></a>ip routing vrf mgmt
<a id="__codelineno-8-84" name="__codelineno-8-84" href="#__codelineno-8-84"></a>!
<a id="__codelineno-8-85" name="__codelineno-8-85" href="#__codelineno-8-85"></a>management api gnmi
<a id="__codelineno-8-86" name="__codelineno-8-86" href="#__codelineno-8-86"></a>    transport grpc default
<a id="__codelineno-8-87" name="__codelineno-8-87" href="#__codelineno-8-87"></a>    vrf mgmt
<a id="__codelineno-8-88" name="__codelineno-8-88" href="#__codelineno-8-88"></a>!
<a id="__codelineno-8-89" name="__codelineno-8-89" href="#__codelineno-8-89"></a>management api netconf
<a id="__codelineno-8-90" name="__codelineno-8-90" href="#__codelineno-8-90"></a>transport ssh default
<a id="__codelineno-8-91" name="__codelineno-8-91" href="#__codelineno-8-91"></a>    vrf mgmt
<a id="__codelineno-8-92" name="__codelineno-8-92" href="#__codelineno-8-92"></a>!
<a id="__codelineno-8-93" name="__codelineno-8-93" href="#__codelineno-8-93"></a>management api http-commands
<a id="__codelineno-8-94" name="__codelineno-8-94" href="#__codelineno-8-94"></a>protocol http
<a id="__codelineno-8-95" name="__codelineno-8-95" href="#__codelineno-8-95"></a>protocol unix-socket
<a id="__codelineno-8-96" name="__codelineno-8-96" href="#__codelineno-8-96"></a>no shutdown
<a id="__codelineno-8-97" name="__codelineno-8-97" href="#__codelineno-8-97"></a>!
<a id="__codelineno-8-98" name="__codelineno-8-98" href="#__codelineno-8-98"></a>vrf mgmt
<a id="__codelineno-8-99" name="__codelineno-8-99" href="#__codelineno-8-99"></a>    no shutdown
<a id="__codelineno-8-100" name="__codelineno-8-100" href="#__codelineno-8-100"></a>!
<a id="__codelineno-8-101" name="__codelineno-8-101" href="#__codelineno-8-101"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-8-102" name="__codelineno-8-102" href="#__codelineno-8-102"></a>!
<a id="__codelineno-8-103" name="__codelineno-8-103" href="#__codelineno-8-103"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-8-104" name="__codelineno-8-104" href="#__codelineno-8-104"></a>
<a id="__codelineno-8-105" name="__codelineno-8-105" href="#__codelineno-8-105"></a>!
<a id="__codelineno-8-106" name="__codelineno-8-106" href="#__codelineno-8-106"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-8-107" name="__codelineno-8-107" href="#__codelineno-8-107"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>!
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>no aaa root
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>!
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>!
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>service routing protocols model multi-agent
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>!
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>interface Management0
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>    vrf mgmt
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>    no lldp transmit
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>    no lldp receive
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>!
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>vrf instance mgmt
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>!
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>ip routing
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>!
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>ip routing vrf mgmt
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>!
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>management api gnmi
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>    transport grpc default
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>    vrf mgmt
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>!
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>management api netconf
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a>transport ssh default
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>    vrf mgmt
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a>!
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a>management api http-commands
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>protocol http
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a>protocol unix-socket
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a>no shutdown
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a>!
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a>vrf mgmt
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a>    no shutdown
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a>!
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a>!
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a>!
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>!
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>no aaa root
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>!
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>!
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>service routing protocols model multi-agent
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>!
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>interface Management0
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>    vrf mgmt
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>    no lldp transmit
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>    no lldp receive
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>!
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>no spanning-tree vlan-id 4094
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>!
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>vlan 4094
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>trunk group MLAGPEER
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>!
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>vlan 12
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>    name CLIENT
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>!
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>interface Port-Channel56
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>description MLAG PEER LINK - SPINE2
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>switchport mode trunk
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>switchport trunk group MLAGPEER
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>!
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a>interface Port-Channel12
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a>description MLAG - LEAF1 &amp; 2
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a>switchport mode trunk
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a>mlag 12
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a>!
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a>interface Port-Channel34
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a>description MLAG - LEAF3 &amp; 4
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>switchport mode trunk
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a>mlag 34
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a>!
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>interface Ethernet1
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>description LEAF1
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a>switchport mode trunk
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a>channel-group 12 mode active
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a>!
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a>interface Ethernet2
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a>description LEAF2
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a>switchport mode trunk
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a>channel-group 12 mode active
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a>!
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a>interface Ethernet3
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a>description LEAF3
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a>switchport mode trunk
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a>channel-group 34 mode active
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a>!
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a>interface Ethernet4
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a>description LEAF4
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a>switchport mode trunk
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a>channel-group 34 mode active
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a>!
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a>interface Ethernet5
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a>description SPINE2
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a>switchport mode trunk
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a>channel-group 56 mode active
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a>!
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a>interface Ethernet6
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a>description SPINE2
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a>switchport mode trunk
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a>channel-group 56 mode active
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a>!
<a id="__codelineno-10-70" name="__codelineno-10-70" href="#__codelineno-10-70"></a>interface Vlan12
<a id="__codelineno-10-71" name="__codelineno-10-71" href="#__codelineno-10-71"></a>ip address 172.16.112.2/24
<a id="__codelineno-10-72" name="__codelineno-10-72" href="#__codelineno-10-72"></a>ip virtual-router address 172.16.112.1
<a id="__codelineno-10-73" name="__codelineno-10-73" href="#__codelineno-10-73"></a>!
<a id="__codelineno-10-74" name="__codelineno-10-74" href="#__codelineno-10-74"></a>ip virtual-router mac-address 00:1c:73:AA:AA:A1
<a id="__codelineno-10-75" name="__codelineno-10-75" href="#__codelineno-10-75"></a>!
<a id="__codelineno-10-76" name="__codelineno-10-76" href="#__codelineno-10-76"></a>interface Vlan4094
<a id="__codelineno-10-77" name="__codelineno-10-77" href="#__codelineno-10-77"></a>description MLAG PEER LINK
<a id="__codelineno-10-78" name="__codelineno-10-78" href="#__codelineno-10-78"></a>ip address 172.16.11.1/30
<a id="__codelineno-10-79" name="__codelineno-10-79" href="#__codelineno-10-79"></a>!
<a id="__codelineno-10-80" name="__codelineno-10-80" href="#__codelineno-10-80"></a>mlag configuration
<a id="__codelineno-10-81" name="__codelineno-10-81" href="#__codelineno-10-81"></a>domain-id MLAG01
<a id="__codelineno-10-82" name="__codelineno-10-82" href="#__codelineno-10-82"></a>local-interface Vlan4094
<a id="__codelineno-10-83" name="__codelineno-10-83" href="#__codelineno-10-83"></a>peer-address 172.16.11.2
<a id="__codelineno-10-84" name="__codelineno-10-84" href="#__codelineno-10-84"></a>peer-link Port-Channel56
<a id="__codelineno-10-85" name="__codelineno-10-85" href="#__codelineno-10-85"></a>!
<a id="__codelineno-10-86" name="__codelineno-10-86" href="#__codelineno-10-86"></a>vrf instance mgmt
<a id="__codelineno-10-87" name="__codelineno-10-87" href="#__codelineno-10-87"></a>!
<a id="__codelineno-10-88" name="__codelineno-10-88" href="#__codelineno-10-88"></a>ip routing
<a id="__codelineno-10-89" name="__codelineno-10-89" href="#__codelineno-10-89"></a>!
<a id="__codelineno-10-90" name="__codelineno-10-90" href="#__codelineno-10-90"></a>ip routing vrf mgmt
<a id="__codelineno-10-91" name="__codelineno-10-91" href="#__codelineno-10-91"></a>!
<a id="__codelineno-10-92" name="__codelineno-10-92" href="#__codelineno-10-92"></a>management api gnmi
<a id="__codelineno-10-93" name="__codelineno-10-93" href="#__codelineno-10-93"></a>    transport grpc default
<a id="__codelineno-10-94" name="__codelineno-10-94" href="#__codelineno-10-94"></a>    vrf mgmt
<a id="__codelineno-10-95" name="__codelineno-10-95" href="#__codelineno-10-95"></a>!
<a id="__codelineno-10-96" name="__codelineno-10-96" href="#__codelineno-10-96"></a>management api netconf
<a id="__codelineno-10-97" name="__codelineno-10-97" href="#__codelineno-10-97"></a>transport ssh default
<a id="__codelineno-10-98" name="__codelineno-10-98" href="#__codelineno-10-98"></a>    vrf mgmt
<a id="__codelineno-10-99" name="__codelineno-10-99" href="#__codelineno-10-99"></a>!
<a id="__codelineno-10-100" name="__codelineno-10-100" href="#__codelineno-10-100"></a>management api http-commands
<a id="__codelineno-10-101" name="__codelineno-10-101" href="#__codelineno-10-101"></a>protocol http
<a id="__codelineno-10-102" name="__codelineno-10-102" href="#__codelineno-10-102"></a>protocol unix-socket
<a id="__codelineno-10-103" name="__codelineno-10-103" href="#__codelineno-10-103"></a>no shutdown
<a id="__codelineno-10-104" name="__codelineno-10-104" href="#__codelineno-10-104"></a>!
<a id="__codelineno-10-105" name="__codelineno-10-105" href="#__codelineno-10-105"></a>vrf mgmt
<a id="__codelineno-10-106" name="__codelineno-10-106" href="#__codelineno-10-106"></a>    no shutdown
<a id="__codelineno-10-107" name="__codelineno-10-107" href="#__codelineno-10-107"></a>!
<a id="__codelineno-10-108" name="__codelineno-10-108" href="#__codelineno-10-108"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-10-109" name="__codelineno-10-109" href="#__codelineno-10-109"></a>!
<a id="__codelineno-10-110" name="__codelineno-10-110" href="#__codelineno-10-110"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-10-111" name="__codelineno-10-111" href="#__codelineno-10-111"></a>
<a id="__codelineno-10-112" name="__codelineno-10-112" href="#__codelineno-10-112"></a>!
<a id="__codelineno-10-113" name="__codelineno-10-113" href="#__codelineno-10-113"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-10-114" name="__codelineno-10-114" href="#__codelineno-10-114"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>hostname {{ .ShortName }}
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>!
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>no aaa root
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>!
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>username admin privilege 15 secret admin
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>username cvpadmin privilege 15 role network-admin secret sha512 $6$IvmYcGkpLFv.DZXu$JKI11Ocs0gqsnm.jXGU.XRU3I.NasSQVVzywH0Vk1HLfLFamFL6nwKjcDPzpqgALj13CDBUFIY7HL2OYvRhOa1
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>!
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>service routing protocols model multi-agent
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>!
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>interface Management0
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>    vrf mgmt
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>{{ if .MgmtIPv4Address }}ip address {{ .MgmtIPv4Address }}/{{.MgmtIPv4PrefixLength}}{{end}}
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>{{ if .MgmtIPv6Address }}ipv6 address {{ .MgmtIPv6Address }}/{{.MgmtIPv6PrefixLength}}{{end}}
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>    no lldp transmit
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>    no lldp receive
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>!
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>no spanning-tree vlan-id 4094
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>!
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>vlan 12
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>    name CLIENT
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>!
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a>vlan 4094
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a>trunk group MLAGPEER
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a>!
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a>interface Port-Channel56
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a>description MLAG PEER LINK - SPINE1
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a>switchport mode trunk
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a>switchport trunk group MLAGPEER
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a>!
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a>interface Port-Channel12
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a>description MLAG - LEAF1 &amp; 2
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a>switchport mode trunk
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a>mlag 12
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a>!
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a>interface Port-Channel34
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a>description MLAG - LEAF3 &amp; 4
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a>switchport mode trunk
<a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a>mlag 34
<a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a>!
<a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a>interface Ethernet1
<a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a>description LEAF1
<a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a>switchport mode trunk
<a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a>channel-group 12 mode active
<a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a>!
<a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a>interface Ethernet2
<a id="__codelineno-11-46" name="__codelineno-11-46" href="#__codelineno-11-46"></a>description LEAF2
<a id="__codelineno-11-47" name="__codelineno-11-47" href="#__codelineno-11-47"></a>switchport mode trunk
<a id="__codelineno-11-48" name="__codelineno-11-48" href="#__codelineno-11-48"></a>channel-group 12 mode active
<a id="__codelineno-11-49" name="__codelineno-11-49" href="#__codelineno-11-49"></a>!
<a id="__codelineno-11-50" name="__codelineno-11-50" href="#__codelineno-11-50"></a>interface Ethernet3
<a id="__codelineno-11-51" name="__codelineno-11-51" href="#__codelineno-11-51"></a>description LEAF3
<a id="__codelineno-11-52" name="__codelineno-11-52" href="#__codelineno-11-52"></a>switchport mode trunk
<a id="__codelineno-11-53" name="__codelineno-11-53" href="#__codelineno-11-53"></a>channel-group 34 mode active
<a id="__codelineno-11-54" name="__codelineno-11-54" href="#__codelineno-11-54"></a>!
<a id="__codelineno-11-55" name="__codelineno-11-55" href="#__codelineno-11-55"></a>interface Ethernet4
<a id="__codelineno-11-56" name="__codelineno-11-56" href="#__codelineno-11-56"></a>description LEAF4
<a id="__codelineno-11-57" name="__codelineno-11-57" href="#__codelineno-11-57"></a>switchport mode trunk
<a id="__codelineno-11-58" name="__codelineno-11-58" href="#__codelineno-11-58"></a>channel-group 34 mode active
<a id="__codelineno-11-59" name="__codelineno-11-59" href="#__codelineno-11-59"></a>!
<a id="__codelineno-11-60" name="__codelineno-11-60" href="#__codelineno-11-60"></a>interface Ethernet5
<a id="__codelineno-11-61" name="__codelineno-11-61" href="#__codelineno-11-61"></a>description SPINE1
<a id="__codelineno-11-62" name="__codelineno-11-62" href="#__codelineno-11-62"></a>switchport mode trunk
<a id="__codelineno-11-63" name="__codelineno-11-63" href="#__codelineno-11-63"></a>channel-group 56 mode active
<a id="__codelineno-11-64" name="__codelineno-11-64" href="#__codelineno-11-64"></a>!
<a id="__codelineno-11-65" name="__codelineno-11-65" href="#__codelineno-11-65"></a>interface Ethernet6
<a id="__codelineno-11-66" name="__codelineno-11-66" href="#__codelineno-11-66"></a>description SPINE2
<a id="__codelineno-11-67" name="__codelineno-11-67" href="#__codelineno-11-67"></a>switchport mode trunk
<a id="__codelineno-11-68" name="__codelineno-11-68" href="#__codelineno-11-68"></a>channel-group 56 mode active
<a id="__codelineno-11-69" name="__codelineno-11-69" href="#__codelineno-11-69"></a>!
<a id="__codelineno-11-70" name="__codelineno-11-70" href="#__codelineno-11-70"></a>interface Vlan12
<a id="__codelineno-11-71" name="__codelineno-11-71" href="#__codelineno-11-71"></a>ip address 172.16.112.3/24
<a id="__codelineno-11-72" name="__codelineno-11-72" href="#__codelineno-11-72"></a>ip virtual-router address 172.16.112.1
<a id="__codelineno-11-73" name="__codelineno-11-73" href="#__codelineno-11-73"></a>!
<a id="__codelineno-11-74" name="__codelineno-11-74" href="#__codelineno-11-74"></a>ip virtual-router mac-address 00:1c:73:AA:AA:A1
<a id="__codelineno-11-75" name="__codelineno-11-75" href="#__codelineno-11-75"></a>!
<a id="__codelineno-11-76" name="__codelineno-11-76" href="#__codelineno-11-76"></a>interface Vlan4094
<a id="__codelineno-11-77" name="__codelineno-11-77" href="#__codelineno-11-77"></a>description MLAG PEER LINK
<a id="__codelineno-11-78" name="__codelineno-11-78" href="#__codelineno-11-78"></a>ip address 172.16.11.2/30
<a id="__codelineno-11-79" name="__codelineno-11-79" href="#__codelineno-11-79"></a>!
<a id="__codelineno-11-80" name="__codelineno-11-80" href="#__codelineno-11-80"></a>mlag configuration
<a id="__codelineno-11-81" name="__codelineno-11-81" href="#__codelineno-11-81"></a>domain-id MLAG01
<a id="__codelineno-11-82" name="__codelineno-11-82" href="#__codelineno-11-82"></a>local-interface Vlan4094
<a id="__codelineno-11-83" name="__codelineno-11-83" href="#__codelineno-11-83"></a>peer-address 172.16.11.1
<a id="__codelineno-11-84" name="__codelineno-11-84" href="#__codelineno-11-84"></a>peer-link Port-Channel56
<a id="__codelineno-11-85" name="__codelineno-11-85" href="#__codelineno-11-85"></a>!
<a id="__codelineno-11-86" name="__codelineno-11-86" href="#__codelineno-11-86"></a>vrf instance mgmt
<a id="__codelineno-11-87" name="__codelineno-11-87" href="#__codelineno-11-87"></a>!
<a id="__codelineno-11-88" name="__codelineno-11-88" href="#__codelineno-11-88"></a>ip routing
<a id="__codelineno-11-89" name="__codelineno-11-89" href="#__codelineno-11-89"></a>!
<a id="__codelineno-11-90" name="__codelineno-11-90" href="#__codelineno-11-90"></a>ip routing vrf mgmt
<a id="__codelineno-11-91" name="__codelineno-11-91" href="#__codelineno-11-91"></a>!
<a id="__codelineno-11-92" name="__codelineno-11-92" href="#__codelineno-11-92"></a>management api gnmi
<a id="__codelineno-11-93" name="__codelineno-11-93" href="#__codelineno-11-93"></a>    transport grpc default
<a id="__codelineno-11-94" name="__codelineno-11-94" href="#__codelineno-11-94"></a>    vrf mgmt
<a id="__codelineno-11-95" name="__codelineno-11-95" href="#__codelineno-11-95"></a>!
<a id="__codelineno-11-96" name="__codelineno-11-96" href="#__codelineno-11-96"></a>management api netconf
<a id="__codelineno-11-97" name="__codelineno-11-97" href="#__codelineno-11-97"></a>transport ssh default
<a id="__codelineno-11-98" name="__codelineno-11-98" href="#__codelineno-11-98"></a>    vrf mgmt
<a id="__codelineno-11-99" name="__codelineno-11-99" href="#__codelineno-11-99"></a>!
<a id="__codelineno-11-100" name="__codelineno-11-100" href="#__codelineno-11-100"></a>management api http-commands
<a id="__codelineno-11-101" name="__codelineno-11-101" href="#__codelineno-11-101"></a>protocol http
<a id="__codelineno-11-102" name="__codelineno-11-102" href="#__codelineno-11-102"></a>protocol unix-socket
<a id="__codelineno-11-103" name="__codelineno-11-103" href="#__codelineno-11-103"></a>no shutdown
<a id="__codelineno-11-104" name="__codelineno-11-104" href="#__codelineno-11-104"></a>!
<a id="__codelineno-11-105" name="__codelineno-11-105" href="#__codelineno-11-105"></a>vrf mgmt
<a id="__codelineno-11-106" name="__codelineno-11-106" href="#__codelineno-11-106"></a>    no shutdown
<a id="__codelineno-11-107" name="__codelineno-11-107" href="#__codelineno-11-107"></a>!
<a id="__codelineno-11-108" name="__codelineno-11-108" href="#__codelineno-11-108"></a>ip name-server vrf mgmt 8.8.8.8
<a id="__codelineno-11-109" name="__codelineno-11-109" href="#__codelineno-11-109"></a>!
<a id="__codelineno-11-110" name="__codelineno-11-110" href="#__codelineno-11-110"></a>ntp server vrf mgmt tempus1.gum.gov.pl iburst
<a id="__codelineno-11-111" name="__codelineno-11-111" href="#__codelineno-11-111"></a>
<a id="__codelineno-11-112" name="__codelineno-11-112" href="#__codelineno-11-112"></a>!
<a id="__codelineno-11-113" name="__codelineno-11-113" href="#__codelineno-11-113"></a>ip route vrf mgmt 0.0.0.0/0 172.100.100.250
<a id="__codelineno-11-114" name="__codelineno-11-114" href="#__codelineno-11-114"></a>end
</code></pre></div>
</div>
</div>
</div>
<h2 id="schemat-topologii-logicznej-mlag-port-channel">Schemat topologii logicznej MLAG / Port-channel</h2>
<p>Schemat ukazuje organziację i nazewnictwo skonfigurowanych i brakujących konfiguracji portów typu Port-Channel wchodzących w skład poszczególnych MultiChassis LAG'ów.</p>
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->
<!DOCTYPE html>
<p><html>
<head>
<title>containerlab-MLAG-physical+PO+MLAG</title>
<meta charset="utf-8"/>
</head></p>
<body><div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2022-06-19T16:49:57.350Z\&quot; agent=\&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.61 Safari/537.36\&quot; etag=\&quot;cfBgiKHdWuzdq2z_0Xob\&quot; version=\&quot;19.0.3\&quot; type=\&quot;onedrive\&quot;&gt;&lt;diagram name=\&quot;MLAG-physical+PO+MLAG\&quot; id=\&quot;A_FiHeQhTTqdaVS5apJQ\&quot;&gt;7V1dd5s4EP01ftwc9AXiMXHiTbptT3bTs20fqa3atMT4YFI7++sXwodBo9TUBUsccB9qCRBh7tXM6ErIEzJ93P8ZeZvVu3Ahggm2FvsJuZ5gjDhDyX9pzXNeg1w7q1lG/iKvO1Q8+P+JvNLKa5/8hdjWTozDMIj9Tb1yHq7XYh7X6rwoCnf1076GQf2uG28pQMXD3Atg7Ud/Ea+yWo6dQ/2t8Jer4s7IdrMjj15xcv4k25W3CHeVKnIzIdMoDOPs2+N+KoLUeoVdnC8PNNq6wa148+X2bvf277ubyz+yxma/ckn5CJFYx+02jbOmf3jBU26vh/u79zfFLbfxc2HHKHxaL0TaljUhV7uVH4uHjTdPj+4S6iR1q/gxSEoo+fo1XMc5FTApynlbedM/RBSLvYTRkQdEpdUTvorwUcTRc3Jd3gq2c6ByqhbF3QF2bOV1qyrkNK/0cqoty6YP5ky+5Bb9BesSYN23N5ezfhk3NyZDrm5rUrU1cZ+smbdCaZ2qBliXveIJ+mhel5vmCWw1d0kPjcst47jrqK1Lu7Mu6cq6CFNkmnk5MC8wrFgvLtNkLSmtw7WoG7JudbH340/5kfT757T+guWl633ltOvnorBOnuNTtVC5Ki0eLnspFdclKdsm/QsDf/09LcZR+L1MA7EC4+zBxALklE1ATSwSPkVzcTzfir1oKX7WHlOTpMIBpqBAUReJwIv9H/VnUNEiv8N96CdPV3LQJvUeTmyJWdlj5ldVU06pIdepN4Sw1FBmB9DQC0vLxz6duO5I3LaISxoSl+okLpWJ67onEpcdaahj4haD5yEwd5vYMpaepEU233/aO7d/bT5bN6v78M236W75cNXYDTs62YwsLGVanF+w0wiNED/aVtecLjLSdjl94PHnKo2PcPoCsyqt0TFS98b/Yp2MxW6dZJSfmDhQdqShrrkKdbHf4qrSl/466Q6cd5qT3lSmak1xseRaqXUiU4mU4pa697mYCjVGjV61Z06V9sGpIte6sCofTOrMlQnXG+ZCPfd3mNuStzw5RTCVu3rdrKRzn0xWhCSHjWVNomu2Qn1co591euZonT6QlclJZ289K5xtaJ+rqClXa1S1jKcqa0hVW2tOgJ22HKvlaiYrnLzpKg3A5g6atLLJtloiU3lhwSV5VNU1l9qdqWqJS6UvRBOD88mmIVrrWIjbbTFVTifP7fXg1NT07d3N+w/9Whz0iprCi3kYfXPWxV9kRg6Ee5YENdXwMhobqowwfOLsH9HsHPA5Zkoac9fpGXebCiNGc9e2W+Iup9J9zstk/FqYg4w2P8yBCVkT4lzL+n93MesUN9S1r7Ab+gqsNet1pfGZzU7MepFFNUe2djX/gUW2xkM0rWxF4D0MdmIsA3TVHMzgFICI4XAtCTpxnbQZc6ZhEEYHUn/1g0Cq8gJ/uU6K84QuIqm/SkOYP/eCy/zAo79YpLdRRsd611Bzs/uhXznjUyGbrSAb6SwgQvFbxNDLDAslQkxDCaq+IoZvQwwLJSCfakcJ6qkihm9VDAslZhxKUEsc4xKX52B1o1Q0PMaln7yopx8lKL2NcQlZtmkwQV1pDEwIGQcTFKfGyCQviXN0gwQ1mTEwIeNQGsUHRVeSlwNoR2kUHxQDJuNQUokPQ+9LnJiGkkp8GHpfco1DaRQfVJt4FNummQJTkc6MnakKEzEOJpX8wAYOkysJrtzWDJJKfLBHkGogId3aA1VpD0PvSlTSWznXDJJKexh6V5JBQoXD0YaSSnsYelfC8jZ41NGMkkp7GHpfklGyLaQZJZX2MPS+RDg1rC+ptIeh9yUZJf19SaU9DL0vIQsEJqIXJqbSHobemSBMrmafx0btQTWnLu+bpzs0sVF9aACT9tjExqUPCpgklJxi7wltKI1rH1QLVLhhKI1rHxSCq2MbhtK49kE1E2hRw2Aa37xQLFGRsgfd84BMpT8MHiTCDUNJpT8MfRUyp7ZZKBU3G1GqLX0gVBtMyi35IUr3IYPj2qQlf7N9zZg/2yGiAtwk/UGH2Ww6BSgnRxiZztyyhXJPiaxcOS97BblsoXgxvEvUbGmvPmRB0BwFaPJeqa2BBiWjETQwBcVZDTRWhA1doEEBySTQCATt6uXfWUFDlmmodbNzhpG/CJM92Fl3fXm9o0CKnOvXX+QJAn7qNhrgJ+XkltrbOGP+zfm4dv4Jt4h+wHSFv9zu/1VGCSjftOVvZjOOZ47K39i2Zb14oiNBIvuc199I67odBiM74Qq2tbGxlBI0VZQgcAg6bNTwcd2AqvYD6ww1OOuQdDVFpBgyavKrfVgx8lGF9s5Ag6E96WpwhNpmQjabqUCzLDf5GJmQOfKLL9pRg3L32NXg7lB1MQhz1YAVnRE1qH6b1NfMQI1JHrLcPUobalAO7zKD7CVo8puB+jNIqI7fh9SYrmZGWHPPmEEmxSgM4+rYLrHx6l24EOkZ/wM=&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>
</body>
<p></html></p>
<h1 id="krok-po-kroku">Krok po Kroku</h1>
<p>Skonfiguruj MLAG na LEAF-4 według ponizszych wskazówek</p>
<h3 id="1-weryfikacja-stanu-poczatkowego">1. Weryfikacja stanu początkowego</h3>
<p>Zweryfikuj początkowy stan urządzeń. Porównaj konfigurację MLAG i Port-Channel na LEAF1 i 2 oraz drugiej parze LEAF-3 i 4.</p>
<p>Wykorzystaj komendy:</p>
<ul>
<li><code>show mlag</code> </li>
<li><code>show mlag detail</code> </li>
<li><code>show mlag interfaces</code> </li>
<li><code>show port-channel</code></li>
</ul>
<details class="tip" open="open">
<summary>Tip</summary>
<p>Zobacz jakie opcje oferuje komenda show port-channel:
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>    LEAF-4#show port-channel ?
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    active-ports  Display info on ports that are active members of the LAG
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>     all-ports     Display info on all ports configured <span class="k">for</span> LAG, even those not currently active
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>     brief         Display all port-channel status briefly
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    dense         Display summary of port-channel status
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    detailed      Display detailed port-channel status
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    limits        Display limits on port-channel membership
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    load-balance  Display traffic distribution of port-channel members
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>     $             list end
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>    &lt;<span class="m">1</span>-999999&gt;    Channel Group ID<span class="o">(</span>s<span class="o">)</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>    &gt;             Redirect output to URL
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>    &gt;&gt;            Append redirected output to URL
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>    <span class="p">|</span>             Command output pipe filters
</code></pre></div></p>
</details>
<h3 id="2-port-channel-peer-link-pomiedzy-leaf-3-i-leaf-4-dataplane">2. Port-channel Peer Link pomiędzy Leaf-3 i Leaf-4 (dataplane)</h3>
<p>Skonfigurguj Port-channel56 na LEAF-4 do komunikacji pomiędzy Leaf-3 &amp; 4:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>configure
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>interface port-channel <span class="m">56</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>  description MLAG PEER LINK - LEAF3
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>  switchport mode trunk
</code></pre></div>
<p>dodawanie portów fizycznych et5 i et6 do interfejsu logicznego Po56:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>configure
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>interface ethernet <span class="m">5</span>,6
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>  description MLAG PEER LINK - LEAF3
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>  channel-group <span class="m">56</span> mode active
</code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
<p>channel-group to grupa interfejsów na pojedynczym przełączniku Arista. Interejsy dopisane do channel-group zostają powiązana z interfejsem port-channel natychmiast po jej utworzeniu. Polecenie grupy kanałów niejawnie tworzy pasujący kanał portu o tym samym identyfikatorze, który w tym przypadku wynosi 56. Polecenie łącza trunk w trybie switchport zezwala na wszystkie sieci VLAN na kanale portu 56.</p>
</details>
<h3 id="3-weryfikacja-dziaania-peer-link">3. Weryfikacja działania Peer-Link</h3>
<ul>
<li><code>show interfaces status</code></li>
<li><code>show lldp neighbors</code></li>
<li><code>show interfaces trunk</code></li>
<li><code>show port-channel 56 detailed</code></li>
</ul>
<details class="tip" open="open">
<summary>Tip</summary>
<p>Każdemu przełącznikowi przypisywany jest globalnie unikalny identyfikator <code>sysID</code> przez połączenie 16-bitowego identyfikatora: priority system z 48-bitowym adresem MAC jednego z portów fizycznych przełącznika. Identyfikator <code>sysID</code> jest używany przez urządzenia podczas tworzenia interfejsu agregregowanego w celu sprawdzenia, czy wszystkie łącza pochodzą z tego samego przełącznika. </p>
</details>
<h3 id="4-konfiguracja-mlag-vlan-layer-2-and-layer-3">4. Konfiguracja MLAG VLAN (Layer 2 and Layer 3).</h3>
<p>W naszym przykładzie konfigurujemy trunk grupę <code>MLAGPEER</code> w vlanie 4094.
Dodatkowo wyłączamy protokół spannig-tree protocol (STP) dla <code>VLAN4094</code> i tym samym łącza peer-link (Po56), aby zapobiec potencjalnym zakłóceniom pochodzącym z niestabilności STP. Ponieważ obecność <code>VLAN 4094</code> została ograniczona tylko do peerlinku (Po56) i trunk grupę MLAGPEER, szansa na wystąpienie pętli jest praktycznie wyeliminowana. Aby zapobiec pętlom, NIE dodawaj tej trunk grupy <code>(MLAGPEER)</code> do żadnych innych interfejsów.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>Abstrakt trunk-group to obiekt - zestaw, na który składają się interfejsy typu trunk'a i listy sieci VLAN. 
Ruch w danym VLANie należącym do jednej lub więcej trunk group jest przenoszony tylko na portach, które są członkami grupy i do których należy dany VLAN. 
Inaczej mówiąc VLANy skonfigurowane w ramach trunk group są „pruned off” ze wszystkich portów, które nie są skojarzone z tą trunk-group. </p>
</details>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>    configure
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    vlan <span class="m">4094</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    trunk group MLAGPEER
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    interface port-channel <span class="m">56</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    switchport trunk group MLAGPEER
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>    no spanning-tree vlan-id <span class="m">4094</span>
</code></pre></div>
<p>Dodatkowo na potrzeby warstwy Control-Plane konfigurujemy adresację IP dla interfejsy SVI (SubInterface VLAN)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>    interface vlan <span class="m">4094</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    description MLAG PEER LINK
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    ip address <span class="m">172</span>.16.34.2/30
</code></pre></div>
<p>Przetestuj odpowiedz z LEAF-3</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>    ping <span class="m">172</span>.16.34.1
</code></pre></div>
<details class="warning" open="open">
<summary>Warning</summary>
<p>Adrescja P2P <code>172.16.34.0/30</code> moze być dowolną adresacją unicast, która nie konfliktuje z pozostałą adresacją na urządzeniu. Adresacja peerlink ma znaczenie lokalne, dla kazdej pary MLAG moze to byc dowolna adresacja IP unicast.
Interfejs SVI warstwy L3 dla <code>VLAN4094</code> zapewnia wymianę komunikacji warstwy kontrolnej MLAG pomiędzy parą przełączników. Peer-link przenosi takze ruch typu data (data-plane) w przypadku awarii, któregość z uplinków do przełączników SPINE. </p>
</details>
<h3 id="5-zdefiniuj-domene-mlag">5. Zdefiniuj domenę MLAG</h3>
<p>Natomiast identyfikator domain-id MLAG34 determinuje jednoznacznie domenę - parę przełączników MLAG. Domain-id jest parametrem case-sensitive i musi być dokładnie taki sam na obu urządzeniach.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>    configure
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    mlag
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    domain-id MLAG34
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    local-interface vlan <span class="m">4094</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    peer-address <span class="m">172</span>.16.34.1
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    peer-link port-channel <span class="m">56</span>
</code></pre></div>
<h3 id="6-skonfiguruj-interfejsy-port-channel-i-interfejsy-fizyczne-uplink-do-spine-1-i-2">6. Skonfiguruj interfejsy Port-channel i interfejsy fizyczne uplink do SPINE-1 i 2</h3>
<p>Konfigurujemy zatem interfjes Po34. Zwróc uwagę, i do konfiguracji interfejsu Port-channel koniecznie musimy dodać komendę mlag 34 identyfikującą rozproszony interfejs zagregowany MLAG.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>    configure
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    interface port-channel <span class="m">34</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    description MLAG - SPINE1 <span class="p">&amp;</span> <span class="m">2</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    switchport mode trunk
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    mlag <span class="m">34</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>    interface ethernet <span class="m">1</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>    description SPINE1
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>    channel-group <span class="m">34</span> mode active
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>    interface ethernet <span class="m">2</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>    description SPINE2
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>    channel-group <span class="m">34</span> mode active
</code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
<p>Poleceniem <code>mlag 34</code> przypisujemy MLAG ID do interfejsu port-channel 34. Przełączniki (MLAG Peers) sformują interfejs logiczny, rozproszony, zagregowany Port-channel - MultiChassis LAG (MLAG)) posiadających oczywiście ten sam domain-id, gdy wskazemy ten sam identyfikator MLAG ID do kazdego interfejsu port-channel. MLAG ID ma zasięg globalny per konfiguracja przełącznika, dla kazdego intefejsu MLAG musi być unikalny.</p>
</details>
<h3 id="7-skonfiguruj-interfejs-port-channel-i-interfejsy-fizyczne-uplink-do-client-2">7. Skonfiguruj interfejs Port-channel i interfejsy fizyczne uplink do CLIENT-2</h3>
<p>Dla przykładu identygikator MLAG ID przyjmuje tutaj wartość 4. konfigurujemy Port-channel 44 w tyrbie access (port dostępowy) o VLAN ID 12.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>configure
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>interface port-channel <span class="m">44</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>  description MLAG - HOST2
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>  switchport access vlan <span class="m">12</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>  mlag <span class="m">4</span>
</code></pre></div>
<p>Korzystając z dostarczonego diagramu lub weryfikując, gdzie fizycznie mamy podłączonego CLIENT'a-2: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>LEAF-4&gt;show lldp neighbors 
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>Last table change <span class="nb">time</span>   : <span class="m">13</span>:29:37 ago
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>Number of table inserts  : <span class="m">13</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>Number of table deletes  : <span class="m">1</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>Number of table drops    : <span class="m">0</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>Number of table age-outs : <span class="m">1</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>Port          Neighbor Device ID       Neighbor Port ID    TTL
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>---------- ------------------------ ---------------------- ---
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>Et1           SPINE-1                  Ethernet4           <span class="m">120</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>Et2           SPINE-2                  Ethernet4           <span class="m">120</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="hll">Et4           CLIENT-2                 Ethernet2           <span class="m">120</span>
</span><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>Et5           LEAF-3                   Ethernet5           <span class="m">120</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>Et6           LEAF-3                   Ethernet6           <span class="m">120</span>
</code></pre></div>
<p>i finalnie konfigurujemy port et4:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>interface ethernet <span class="m">4</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>  description HOST2
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>  channel-group <span class="m">44</span> mode active
</code></pre></div>
<h3 id="8-weryfikujemy-konfiguracje-leaf-4">8. Weryfikujemy konfigurację LEAF-4</h3>
<p>Weryfikujemy wprowadzoną konfigurację uzywając ponizszych komend.</p>
<ul>
<li><code>show mlag</code> </li>
<li><code>show mlag detail</code> </li>
<li><code>show mlag interfaces</code> </li>
</ul>
<p>Weryfikujemy połączenia</p>
<ul>
<li><code>show interfaces status</code> </li>
<li><code>show lldp neighbors</code> </li>
<li><code>show interface trunk</code></li>
<li><code>show port-channel 34 detailed</code> &lt;- uplink do SPINE-1 i 2</li>
<li><code>show port-channel 44 detailed</code> &lt;- downlink do CLIENT-2</li>
<li><code>show port-channel 56 detailed</code> &lt;- interlink PeerLink pomiędzy LEAF3 i 4</li>
</ul>
<p>finalnie spradzamy łaczność pomiędzy CLIENT-1 do CLIENT-2 polecniem ping bądź ssh:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>CLIENT-1&gt;ping ip <span class="m">172</span>.16.112.202 
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>PING <span class="m">172</span>.16.112.202 <span class="o">(</span><span class="m">172</span>.16.112.202<span class="o">)</span> <span class="m">72</span><span class="o">(</span><span class="m">100</span><span class="o">)</span> bytes of data.
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="m">80</span> bytes from <span class="m">172</span>.16.112.202: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">128</span> ms
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="m">80</span> bytes from <span class="m">172</span>.16.112.202: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">131</span> ms
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="m">80</span> bytes from <span class="m">172</span>.16.112.202: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">161</span> ms
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="m">80</span> bytes from <span class="m">172</span>.16.112.202: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">156</span> ms
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="m">80</span> bytes from <span class="m">172</span>.16.112.202: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">5</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">64</span> <span class="nv">time</span><span class="o">=</span><span class="m">177</span> ms
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>--- <span class="m">172</span>.16.112.202 ping statistics ---
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="m">5</span> packets transmitted, <span class="m">5</span> received, <span class="m">0</span>% packet loss, <span class="nb">time</span> 42ms
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>rtt min/avg/max/mdev <span class="o">=</span> <span class="m">128</span>.001/151.127/177.659/18.701 ms, pipe <span class="m">5</span>, ipg/ewma <span class="m">10</span>.734/140.866 ms
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>CLIENT-1&gt;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>CLIENT-1&gt;ssh -l admin <span class="m">172</span>.16.112.202
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>Warning: Permanently added <span class="s1">&#39;172.16.112.202&#39;</span> <span class="o">(</span>ECDSA<span class="o">)</span> to the list of known hosts.
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>Password: 
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>CLIENT-2&gt;
</code></pre></div>
<h3 id="lab-ukonczony">LAB UKOŃCZONY!</h3>
<p>Finalnie logiczna infrastruktura prezentuje się jak na rysunku:</p>
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->
<!DOCTYPE html>
<p><html>
<head>
<meta charset="utf-8"/>
</head></p>
<body><div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2022-06-20T12:53:17.584Z\&quot; agent=\&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.61 Safari/537.36\&quot; etag=\&quot;Bb2pBJ2JZrNAYJlAHbrv\&quot; version=\&quot;19.0.3\&quot; type=\&quot;onedrive\&quot;&gt;&lt;diagram name=\&quot;Copy of MLAG-physical\&quot; id=\&quot;xuq0RmGz9u3Jtfbujiy1\&quot;&gt;7Vxbd6JIEP41nrP7oIdubvIYjc6YjVmzziTjvOQQaIUdBAN421+/jTQK3e0ljgommHMiXX2Brq+6qrq6pCI2x4svvj6xup6JnAoUzEVFvK1AKKqigr8iyjKmABWoMWXk2yahbQh9+z9EiAKhTm0TBZmGoec5oT3JEg3PdZERZmi673vzbLOh52TvOtFHiCH0Dd1hqc+2GVoxtQ7VDf0rskdWcmegaHHNWE8ak5kElm568xRJbFXEpu95YXw1XjSRE3Ev4YvbDV4ebl/b3fvF8psTzL7BLqjGg7Xf02U9BR+54WmHhvHQM92ZEn71e52HVnRLPJqijycVsRH/xxTSOgiXCXd9b+qaKLqDgJvMLTtE/YluRLVzLFCYZoVjB5cAvhx6bkgEBIpJmYxF5jhDfogWFHJ7pg3WWGApRt4Yhf4S9yOjQIXARwQ4Kc43wgAFQrPSgiARok4EcLQeesNkfEH4/A6eiwzP71s37Y/AcsJiGWh581ji81jk8li6Jh6TUSQpK9YF4DkADNMZxiLXvImUOi65nouyjMxyHS3s8Ed0XZNJaZCquV2kC8uk4OKJxJ2gnJQHZPhVYdNvVUo6BqHv/VobCMhBFWv/SVRwbPfXSmyimSGTMT6HoIpZ4k19A+1XEqHuj9Cu8SBfSlJSIHOEIKH5yNFDe5adA08wyB16no1nt9GtWlYIpTolW/E0Sa+0baIGkuQ9A8V8YAZayel62r8huqxOzlF0r1typWuQXKAJNSH1gWJW/sCRgiyqWUGG9EDnFmSNEeTmfaf18G0N3zUZOZDhpSbUGRMHNO2SJi7ZCpxVT4Cj9IRwbXriUAsXi3RBFYUMtSMVBcxXUSSCyyqKq9pxbPEfeKriwt4wZLcgv6Uqzrbsj1FClKoIsLCG1ExOqD7eGv5g+PSv1enNZ3c/hJeGq7VIsOMANyNXP0MRsoKpKEc6FjIVxqhLlF66rPaQGeFGIeth4FUeZoU6Fsem53j+RlSGtuNQJN2xRy4uGlhYEKY3Ip1hG7pzQyrGtmlGt+Gqo+zSoQX+XEporcITlZ7olpSoKRxRE8+mghQOSqwW+mQo1dWCoaRyUBI/OUqiWLS1VOegxAYOPxdKkiAXCyWRjeOUdomKFEtq3iCxnnFplkDhUCpdPM5SUoqGUunisSjRe6XcUZJLs8TReEoGpLrChmwuC1JpljggUWHK/FEqzRLHLKlFQ6k0SxyzVDiUysjDXrOk5O47lIGH/Qrvkig9QrfTUR/tt8n45WkcBMHP8VNyGlGCtEPfKUlmbV4gsflppbqjHbzcV9KW7NgPlLlJnVWvUwguclbN5fmWbNkPkJGcjFI4lrNW/cMl3lPqn6NYLsxzNjeOYWuZ5MmF9DLJErKcPZo9PrlKpc54z5dcxXc0LpEm+CEy4XNL6xPkmpb6qKeSPGr7eEbJM+XepPfQMV7Qd+nu7W4kDv5ROPuQnieyXhIeyZ4E2zzRXZYj5fVWoKhpbfxhXGRcIwgRWxlbE5dT7eIPI3dn3TyKWgYjCbKWCagc2TuFYXIks/s4dXVvWIXPUqPXvlkALmqAozJOhFq7XYdtlYeaoghCs1lI1GS5YKBB3lJjt5OfGjQg17KwKRrreZ8Ntv6PwfNztz997jsd8+eLXb17+M5fayVqu07mxAsutV25vhnMpNKqUakJ2ZWmCnmjduKfgxY5Ab7yOz5wNtl9V1Asney+faHkt33bEu99d647/WsOUM8OdDonmstFnmU/n4n4ENqmDjm/zTuXtrH+nVrh5PtfN2/3z0P49qXTMGHpQx9k2Kms6voFbQQXNdZGlPtVJhdezhG1r093k9fm4ItS/fo6Fgb64Pbxb85aq0DFiU7N8Pg6rjEs3Q+IpVLeptEbchrTcBhFvZMivhqR71VP055lME/aGTHvbyL7NHr9A0ZrGj+1kL74M46Sv+rGr9HKa6hSvSIPNmq7+SZdInSrQ31sO8u4dRe5jhc36nqubpDrdUiePFUTmzIb+bjmAc3pyrjL2HO9IBbU9Z3mBJ3oTq7nj3UnVRms5DaqAnCyiCuwf4GqVqoXqJOqnXzMkvBTuPt4i0XblKI/7uBAhTWg1ACAtdVhRDwulp146OztMJnzEDSVWuHk1PWIg4zU4mys/s4ZhKB+zgcEzuuEgMhZi6c4L+WuRdZZKVfUta0o8JlXVNEWFO9VMEQa3ddgsoPVBUsZuTSUVcq7FDlxo3OlknCR5P0Cv0TyACTVOoUkJ9h+USTZRFUGOWPqz1YMjA8413Elw9GDwDYqO0JLh7I76/KvgkXmCCWbBc8PLW+ELZzT2lBP+oqXfUe3ph5YaxZw9qXtdkpqThKs2uWRpINV23cReQWrqtQPjDWVkt1Dg1UqpC2YQI20JVqFBVRfpppNogbBjidmTCV5+9q2J2M61He3Z2by3vbUA+GLeI4HBudwcfMy1bj55p20Yut/&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>
</body>
<p></html></p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Aby dla przełączników SPINE-1 i SPINE-2 oraz przełącznika CLIENT-2 para LEAF-3 i 4 były widoczne logicznie jako jedno urządzenie&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>używaj dokładnie wskazanej wersji cEOS&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>

              
            </article>
            
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Stopka" >
      
        
        <a href="../../kb/hw/" class="md-footer__link md-footer__link--prev" aria-label="Poprzednia strona: Portfolio" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Poprzednia strona
              </span>
              Portfolio
            </div>
          </div>
        </a>
      
      
        
        <a href="../lab2/" class="md-footer__link md-footer__link--next" aria-label="Następna strona: LAB 2 (IP fabric)" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Następna strona
              </span>
              LAB 2 (IP fabric)
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/marekplaza/apiuslab" target="_blank" rel="noopener" title="apiusLAB on github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.85cb4492.min.js", "translations": {"clipboard.copied": "Skopiowane", "clipboard.copy": "Kopiuj do schowka", "search.config.lang": "en", "search.config.pipeline": " ", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Szukaj", "search.result.more.one": "1 wi\u0119cej na tej stronie", "search.result.more.other": "# wi\u0119cej na tej stronie", "search.result.none": "Brak wynik\u00f3w wyszukiwania", "search.result.one": "Wyniki wyszukiwania: 1", "search.result.other": "Wyniki wyszukiwania: #", "search.result.placeholder": "Zacznij pisa\u0107, aby szuka\u0107", "search.result.term.missing": "Brak", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a877e258.min.js"></script>
      
    
  </body>
</html>